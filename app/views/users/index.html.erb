<% provide(:title, "Users") %>

<p id="notice"><%= notice %></p>

<h1>Users</h1>

<p>Green indicates admin</p>
<p>Yellow indicates that the user hasn't authenticated his email</p>
<div class="table-responsive">
<table id="user-index-table" class="table table-striped table-condensed table-hover">
  <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Email</th>
      <th>Type</th>
      <th>Phone Number</th>
      <th>Estimated Contribution</th>
      <th>Contract Digest</th>
      <th>Ethereum Address</th>
      <th>Bitcoin Address</th>
      <th>Citizenship</th>
      <th>Address</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <% if user.admin == true %>
        <tr class="admin">
      <% elsif user.activated == false %>
        <tr class="notAuthenticated">
      <% else %>
        <tr>
      <% end %>
        <td><%= user.id %></td>
        <td><%= user.firstName %> <%= user.lastName %></td>
        <td><%= user.email %></td>
        <% if user.isEntity %>
          <td>Entity</td>
        <% else %>
          <td>Individual</td>
        <% end %>
        <td><%= user.phoneNumber %></td>
        <td><%= user.estimatedContribution %></td>
        <td><%= user.contract_digest %></td>
        <td><%= user.ethAdd %></td>
        <td><%= user.bitAdd %></td>
        <td><%= user.citizenship %></td>
        <td><%= user.address1 %> <%= user.address2 %>, <%= user.city %>, <%= user.state %>, <%= user.zipCode %></td>
        <td><%= link_to 'Show', user %></td>
        <td><%= link_to 'Edit', edit_user_path(user) %></td>
        <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>

<%= link_to 'New User', new_user_path %>
<%= link_to 'Login', login_path %>
